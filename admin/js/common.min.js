function c(n){++cc,console.log("== "+cc+": "+n)}function ct(n){c(n),console.trace()}function co(n,e){++cc,console.log("== "+cc+": "+n+": %o",e)}function qtranxj_get_cookie(n){for(var e=document.cookie.split(";"),t=0;t<e.length;++t){var a=e[t],i=a.split("=");if(i[0].trim()==n&&!(e.length<2))return i[1].trim()}return""}function qtranxj_isArray(n){return n.constructor.toString().indexOf("Array")>=0}function qtranxj_ce(n,e,t,a){var i=document.createElement(n);if(e)for(prop in e)i[prop]=e[prop];return t&&(a&&t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i)),i}function qtranxj_LanguageSwitch(n){function e(){var n=this;if(!n.lang)return void alert("qTranslate-X: This should not have happened: Please, report this incident to the developers: !tabSwitch.lang");if(qTranslateConfig.activeLanguage!==n.lang){qTranslateConfig.activeLanguage&&i[qTranslateConfig.activeLanguage].classList.remove("active"),qTranslateConfig.activeLanguage=n.lang,n.classList.add("active");for(var e=0;e<r.length;++e)r[e].call(this)}}for(var t=qTranslateConfig.enabled_languages,a=qTranslateConfig.language_name,i={},r=[],o=0;o<t.length;++o){var s=qTranslateConfig.flag_location,l=t[o],g=qtranxj_ce("li",{lang:l,className:"qtranxs-lang-switch",onclick:e},n);qtranxj_ce("img",{src:s+qTranslateConfig.flag[l]},g),qtranxj_ce("span",{innerHTML:a[l]},g),i[l]=g,qTranslateConfig.activeLanguage==l&&g.classList.add("active")}this.onSwitch=function(n){"function"==typeof n&&r.push(n)}}var cc=0;qtranxj_split=function(n,e){for(var t=new Object,a=0;a<qTranslateConfig.enabled_languages.length;++a){var i=qTranslateConfig.enabled_languages[a];t[i]=""}var r=/(<!--:[a-z]{2}-->|<!--:-->|\[:[a-z]{2}\])/gi,o=n.xsplit(r);if(!qtranxj_isArray(o))return t;if(1==o.length){for(var s=o[0],l=0;l<qTranslateConfig.enabled_languages.length;++l){var i=qTranslateConfig.enabled_languages[l];t[i]+=s}return t}var g=/<!--:([a-z]{2})-->/gi,u=/<!--:-->/g,c=/\[:([a-z]{2})\]/gi;i=!1;for(var a=0;a<o.length;++a){var s=o[a];if(s.length)if(matches=g.exec(s),g.lastIndex=0,null==matches)if(matches=u.exec(s),u.lastIndex=0,null==matches)if(matches=c.exec(s),c.lastIndex=0,null==matches){if(i)t[i]+=s,i=!1;else if(e)for(var d in t)t[d]+=s}else i=matches[1];else i=!1;else i=matches[1]}return t},qtranxj_allthesame=function(n){if(0==qTranslateConfig.enabled_languages.length)return"";for(var e="",t=0;t<qTranslateConfig.enabled_languages.length;++t){var a=qTranslateConfig.enabled_languages[t],i=n[a];if(i&&""!=i){e=i;break}}if(""==e)return e;for(var t=0;t<qTranslateConfig.enabled_languages.length;++t){var a=qTranslateConfig.enabled_languages[t],i=n[a];if(i!=e)return null}return e},qtranxj_join_c=function(n){var e=qtranxj_allthesame(n);if(null!=e)return e;e="";for(var t=0;t<qTranslateConfig.enabled_languages.length;++t){var a=qTranslateConfig.enabled_languages[t],i=n[a];i&&""!=i&&(e+="<!--:"+a+"-->",e+=i,e+="<!--:-->")}return e},qtranxj_join_b=function(n){var e=qtranxj_allthesame(n);if(null!=e)return e;for(var e="",t=0;t<qTranslateConfig.enabled_languages.length;++t){var a=qTranslateConfig.enabled_languages[t],i=n[a];i&&""!=i&&(e+="[:"+a+"]",e+=i)}return e},String.prototype.xsplit=function(n){if(3==="a~b".split(/(~)/).length)return this.split(n);n.global||(n=new RegExp(n.source,"g"+(n.ignoreCase?"i":"")));for(var e,t=0,a=[];null!=(e=n.exec(this));)a.push(this.slice(t,e.index)),e.length>1&&a.push(e[1]),t=n.lastIndex;return t<this.length&&a.push(this.slice(t)),t==this.length&&a.push(""),a};var qTranslateX=function(n){this.ge=function(n){return document.getElementById(n)},isLanguageEnabled=function(n){for(var e=0;e<qTranslateConfig.enabled_languages.length;++e)if(qTranslateConfig.enabled_languages[e]==n)return!0;return!1},qTranslateConfig.activeLanguage=qtranxj_get_cookie("qtrans_edit_language"),qTranslateConfig.activeLanguage&&isLanguageEnabled(qTranslateConfig.activeLanguage)||(qTranslateConfig.activeLanguage=qTranslateConfig.language),this.getActiveLanguage=function(){return qTranslateConfig.activeLanguage};var e=[],t={};updateFusedValueHooked=function(n){n.mlContentField.value="<"===n.separator?qtranxj_join_c(n.contents):qtranxj_join_b(n.contents)},updateFusedValueH=function(n,e){var a=t[n],i=e.trim();a.contents[a.lang]=i,updateFusedValueHooked(a)},addContentHook=function(n,e,a){if(!n)return!1;if(t[n.id])return!0;var i=t[n.id]={};i.contentField=n,i.contents=qtranxj_split(n.value,!0),i.mlContentField=qtranxj_ce("input",{name:n.name,type:"hidden",className:"hidden",value:n.value},e,!0),a||(a="TEXTAREA"===n.tagName?"<":"["),i.separator=a,n.name="edit-"+n.name,i.lang=qTranslateConfig.activeLanguage;var r=i.contents[i.lang];if(n.value=r,n.onblur=function(){updateFusedValueH(this.id,this.value)},window.tinyMCE)for(var o=0;o<tinyMCE.editors.length;++o){var s=tinyMCE.editors[o];s.id==n.id&&(i.mce=s,updateTinyMCE(s,r))}return i},this.addContentHookC=function(n,e){return addContentHook(n,e,"<")},this.addContentHookB=function(n,e){return addContentHook(n,e,"[")},this.addContentHookById=function(n,e,t){return addContentHook(this.ge(n),e,t)},this.addContentHookByIdName=function(n,e){var t;return(0==n.indexOf("<")||0==n.indexOf("["))&&(t=n.substring(0,1),n=n.substring(1)),this.addContentHookById(n,e,t)},this.addContentHookByIdC=function(n,e){return this.addContentHookById(n,e,"<")},this.addContentHookByIdB=function(n,e){return this.addContentHookById(n,e,"[")},addDisplayHook=function(n){if(!n)return!1;var t={};t.elem=n;var a=n.innerHTML.replace(/&lt;!--:([a-z]{2}|)--&gt;/gi,"<!--:$1-->");return t.contents=qtranxj_split(a,!0),n.innerHTML=t.contents[qTranslateConfig.activeLanguage],e.push(t),!0},this.addDisplayHookById=function(n){return addDisplayHook(this.ge(n))},setLangCookie=function(n){document.cookie="qtrans_edit_language="+n},updateTinyMCE=function(n,e){window.switchEditors&&(e=window.switchEditors.wpautop(e)),n.setContent(e,{format:"html"})},onTabSwitch=function(){setLangCookie(this.lang);for(var n=0;n<e.length;++n){var a=e[n];a.elem.innerHTML=a.contents[this.lang]}for(var i in t){var a=t[i],r=a.mce&&!a.mce.hidden;r&&(a.mce.save({format:"html"}),a.contents[a.lang]=a.contentField.value),a.lang=this.lang,a.contentField.value=a.contents[this.lang],r&&updateTinyMCE(a.mce,a.contentField.value)}};var a=this;if(onTabSwitchCustom=function(){n.onTabSwitch(this.lang,a)},addDisplayHooks=function(n){for(var e=0;e<n.length;++e){var t=n[e];addDisplayHook(t)}},this.addDisplayHooksByClass=function(n,e){var t=e.getElementsByClassName(n);addDisplayHooks(t)},this.addDisplayHooksByTagInClass=function(n,e,t){for(var a=t.getElementsByClassName(n),i=0;i<a.length;++i){var r=a[i],o=r.getElementsByTagName(e);addDisplayHooks(o)}},this.addContentHooksByClass=function(n,e,t){var a;(0==n.indexOf("<")||0==n.indexOf("["))&&(a=n.substring(0,1),n=n.substring(1)),t||(t=e);for(var i=t.getElementsByClassName(n),r=0;r<i.length;++r){var o=i[r];addContentHook(o,e,a)}},this.addContentHooks=function(n){for(var e=0;e<qTranslateConfig.custom_fields.length;++e){var t=qTranslateConfig.custom_fields[e];this.addContentHookByIdName(t,n)}for(var e=0;e<qTranslateConfig.custom_field_classes.length;++e){var t=qTranslateConfig.custom_field_classes[e];this.addContentHooksByClass(t,n)}},this.addContentHooksTinyMCE=function(){function n(n){var e=n.id;if(e){var a=t[e];if(a&&!a.mce)return a.mce=n,n.getBody().addEventListener("blur",function(){var e=t[n.id];n.save(),e.contents[e.lang]=e.contentField.value,updateFusedValueHooked(e)}),a}}window.addEventListener("load",function(){if(window.tinyMCE){for(var e=0;e<tinyMCE.editors.length;++e){var a=tinyMCE.editors[e],i=n(a);i&&updateTinyMCE(a,i.contentField.value)}for(var r in t){var i=t[r];i.mce||"TEXTAREA"===i.contentField.tagName&&(tinyMCEPreInit.mceInit[r].init_instance_callback=function(e){n(e)})}}})},this.getWrapForm=function(){for(var n=document.getElementsByClassName("wrap"),e=0;e<n.length;++e){var t=n[e],a=t.getElementsByTagName("form");if(a.length)return a[0]}for(var a=document.getElementsByTagName("form"),e=0;e<a.length;++e){var i=a[e];if(n=i.getElementsByClassName("wrap"),n.length)return i}return null},this.getFormWrap=function(){for(var n=document.getElementsByTagName("form"),e=0;e<n.length;++e){var t=n[e],a=t.getElementsByClassName("wrap");if(a.length)return a[0]}for(var a=document.getElementsByClassName("wrap"),e=0;e<a.length;++e){var i=a[e];if(n=i.getElementsByTagName("form"),n.length)return i}return null},n.addContentHooks(this)){var i=qtranxj_ce("ul",{className:"qtranxs-lang-switch-wrap"}),r=n.langSwitchWrapAnchor;r||(r=this.getWrapForm()),r.parentNode.insertBefore(i,r),languageSwitch=new qtranxj_LanguageSwitch(i),languageSwitch.onSwitch(onTabSwitch),n.onTabSwitch&&languageSwitch.onSwitch(onTabSwitchCustom)}};jQuery(document).ready(function(){new qTranslateX(qTranslateConfig.js)});