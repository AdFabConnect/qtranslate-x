function qtranxj_get_cookie(a){for(var e=document.cookie.split(";"),n=0;n<e.length;n++){var t=e[n],i=t.split("=");if(i[0].trim()==a&&!(e.length<2))return i[1].trim()}return""}function qtranxj_isArray(a){return a.constructor.toString().indexOf("Array")>=0}function qtranxj_ce(a,e,n,t){var i=document.createElement(a);if(e)for(prop in e)i[prop]=e[prop];return n&&(t&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)),i}function LanguageSwitch(a,e){function n(){var a=this;if(!a.lang)return void alert("qTranslate-X: This should not have happened: Please, report this incident to the developers: !tabSwitch.lang");if(r!==a.lang){r&&l[r].classList.remove("active"),r=a.lang,a.classList.add("active");for(var e=0;e<g.length;e++)g[e].call(this)}}var t=qTranslateConfig.enabled_languages,i=qTranslateConfig.language_name,r=e,l={},g=[];location.pathname.indexOf();for(var s=0;s<t.length;s++){var o=qTranslateConfig.WP_CONTENT_URL+qTranslateConfig.flag_location,u=t[s],c=qtranxj_ce("li",{lang:u,className:"qtranxs-lang-switch",onclick:n},a);qtranxj_ce("img",{src:o+qTranslateConfig.flag[u]},c),qtranxj_ce("span",{innerHTML:i[u]},c),l[u]=c,r==u&&c.classList.add("active")}this.getActiveLanguage=function(){return r},this.onSwitch=function(a){"function"==typeof a&&g.push(a)}}qtranxj_split_c=function(a){for(var e=/(<!--.*?-->)/gi,n=/<!--:([a-z]{2})-->/gi,t=/<!--:-->/gi,i=/(<!--more-->|<!--nextpage-->)+$/gi,r=null,l=new Object,g=!1,s=0;s<qTranslateConfig.enabled_languages.length;s++){var o=qTranslateConfig.enabled_languages[s];l[o]=""}var u=a.xsplit(e);if(qtranxj_isArray(u))for(var s=0;s<u.length;s++)if(null!=(r=n.exec(u[s])))g=r[1];else if(t.test(u[s]))g=!1;else if(g)l[g]+=u[s];else for(var c=0;c<qTranslateConfig.enabled_languages.length;c++){var o=qTranslateConfig.enabled_languages[c];l[o]+=u[s]}for(var s=0;s<l.length;s++)l[s]=l[s].replace(i,"");return l},qtranxj_join_c=function(a){for(var e="",n=0;n<qTranslateConfig.enabled_languages.length;n++){var t=qTranslateConfig.enabled_languages[n],i=a[t];i&&""!=i&&(e+="<!--:"+t+"-->",e+=i,e+="<!--:-->")}return e},qtranxj_split_b=function(a){for(var e=/(\[:[a-z]{2}\])/gi,n=/\[:([a-z]{2})\]/gi,t=null,i=new Object,r=!1,l=0;l<qTranslateConfig.enabled_languages.length;l++){var g=qTranslateConfig.enabled_languages[l];i[g]=""}var s=a.xsplit(e);if(qtranxj_isArray(s))for(var l=0;l<s.length;l++){var o=s[l];if(null!=(t=n.exec(o)))r=t[1];else if(r)i[r]+=o,r=!1;else for(var u=0;u<qTranslateConfig.enabled_languages.length;u++){var g=qTranslateConfig.enabled_languages[u];i[g]+=o}}return i},qtranxj_join_b=function(a){for(var e="",n=0;n<qTranslateConfig.enabled_languages.length;n++){var t=qTranslateConfig.enabled_languages[n],i=a[t];i&&""!=i&&(e+="[:"+t+"]",e+=i)}return e},String.prototype.xsplit=function(a){if(3==="a~b".split(/(~)/).length)return this.split(a);a.global||(a=new RegExp(a.source,"g"+(a.ignoreCase?"i":"")));for(var e,n=0,t=[];null!=(e=a.exec(this));)t.push(this.slice(n,e.index)),e.length>1&&t.push(e[1]),n=a.lastIndex;return n<this.length&&t.push(this.slice(n)),n==this.length&&t.push(""),t};var qTranslateX=function(){function a(a){return document.getElementById(a)}function e(a,e,n,t){var i=/(<!--more-->|<!--nextpage-->)+$/gi;n[t]=e.replace(i,""),a.value=qtranxj_join_c(n)}function n(a,e,n,t){n[t]=e,a.value=qtranxj_join_b(n)}function t(){var e,n,t=!!a("tag-name");t?(e="tag-",n="addtag"):(e="",n="edittag");var i=a(e+"name"),l=a(n);if(!l||!i)return!1;var g=qtranxj_get_cookie("qtrans_admin_language");g||(g=qTranslateConfig.default_language),build_translator=function(a,e){var n={};for(var t in qTranslateConfig.term_name){var i=qTranslateConfig.term_name[t],r=i[a],l=i[e];if(!r||!l){var g=i[qTranslateConfig.default_language];if(!g)continue;r||(r=g+"("+qTranslateConfig.default_language+")"),l||(l=g+"("+qTranslateConfig.default_language+")")}n[r]=l}return n};var s=a("the-list");hideQuickEdit=function(){if(s)for(var a=s.getElementsByTagName("TR"),e=0;e<a.length;e++)for(var n=a[e],t=n.getElementsByTagName("TD")[0],i=t.getElementsByClassName("inline"),r=0;r<i.length;r++){var l=i[r];l.style.display="none"}},hideQuickEdit(),updateNames=function(a,e){if(s)for(var n=s.getElementsByTagName("TR"),t=0;t<n.length;t++){for(var i,r=n[t],l=r.getElementsByTagName("TD")[0],o=l.getElementsByTagName("DIV"),u=0;u<o.length;u++){var c=o[u];if("name"===c.className){i=c.innerHTML;break}}if(g!=qTranslateConfig.default_language){var f=build_translator(g,qTranslateConfig.default_language);i=f[i]}for(var d=qTranslateConfig.term_name[i]||{},h=d[a]||"",v=d[e]||"",m=l.getElementsByClassName("row-title"),_=0;_<m.length;_++){var c=m[_];h?c.innerHTML=c.innerHTML.replace(h,v):c.innerHTML+=v}}};var o=document.getElementsByClassName("tagcloud")[0];updateTagCloud=function(a,e){if(o){var n=o.getElementsByTagName("A");if(n.length)for(var t=build_translator(a,e),i=0;i<n.length;i++){var r=n[i],l=r.innerHTML,g=t[l];g&&(r.innerHTML=g)}}},updateNamesAndTagCloud=function(a,e){updateNames(a,e),updateTagCloud(a,e)},g!==r&&updateNamesAndTagCloud(g,r);var u=qtranxj_ce("input",{name:i.name,className:"hidden",value:i.value},l,!0);i.name="";var c=qTranslateConfig.term_name[i.value]||{};r!==qTranslateConfig.default_language&&(i.value=c[r]||""),editinline_activated=function(){return!0};for(var f=document.getElementsByClassName("editinline"),d=0;d<f.length;d++){var h=f[d];"A"===h.tagName&&h.addEventListener("click",editinline_activated)}onTabSwitch=function(){r!==this.lang&&(i.value=c[this.lang]||"",updateNamesAndTagCloud(r,this.lang),r=this.lang)};for(var v=qTranslateConfig.enabled_languages,m={},d=0;d<v.length;d++){var _=v[d];m[_]=qtranxj_ce("input",{name:"qtranx_term_"+_,className:"hidden",value:name[_]||""},l,!0)}return i.onblur=function(){var a=languageSwitch.getActiveLanguage();m[a].value=this.value,c[a]=this.value,a===qTranslateConfig.default_language&&(u.value=this.value)},!0}function i(){function t(a,e){switch(qTranslateConfig.url_mode.toString()){case"1":a.search?a.search+="&lang="+e:a.search="?lang="+e;break;case"2":var n=a.pathname.indexOf(qTranslateConfig.url_info.home);a.pathname=qTranslateConfig.url_info.home+e+a.pathname.substring(n+qTranslateConfig.url_info.home.length-1);break;case"3":a.host=e+"."+a.host}}function i(e){if(!T){var n=a("view-post-btn");if(!n||!n.children.length)return;if(T=n.children[0],"A"!=T.tagName)return;C=T.href,w=qtranxj_ce("a",{})}w.href=C,t(w,e),T.href=w.href;var i=a("preview-action");if(i&&i.children.length&&(i.children[0].href=w.href),1!=qTranslateConfig.url_mode){if(!x){var r=a("sample-permalink");r&&r.childNodes.length&&(x=r.childNodes[0],b=x.nodeValue)}x&&(w.href=b,t(w,e),x.nodeValue=w.href)}}function l(a){window.onbeforeunload=function(){};var n=a.id;n&&(N[n]||(N[n]=!0,a.getBody().addEventListener("blur",function(){e(f,tinyMCE.activeEditor.getContent(),c,languageSwitch.getActiveLanguage())})))}var g,s,o=a("post"),u=a("title");if(!u)return!1;g=qtranxj_split_c(u.value),s=qtranxj_ce(u.tagName,{name:u.name,className:"hidden",value:u.value},o,!0),u.name+="_edit",u.value=g[r],u.onblur=function(){e(s,this.value,g,languageSwitch.getActiveLanguage())};var c,f,d=a("content");d||(d=a("attachment_content")),d&&(c=qtranxj_split_c(d.value),f=qtranxj_ce(d.tagName,{name:d.name,className:"hidden",value:d.value},o,!0),d.name+="_edit",d.value=c[r],d.onblur=function(){e(f,this.value,c,languageSwitch.getActiveLanguage())});var h,v,m=a("attachment_caption");m&&(h=qtranxj_split_c(m.value),v=qtranxj_ce(m.tagName,{name:m.name,className:"hidden",value:m.value},o,!0),m.name+="_edit",m.value=h[r],m.onblur=function(){e(v,this.value,h,languageSwitch.getActiveLanguage())});var _,p,q=a("attachment_alt");q&&(_=qtranxj_split_b(q.value),p=qtranxj_ce(q.tagName,{name:q.name,className:"hidden",value:q.value},o,!0),q.name+="_edit",q.value=_[r],q.onblur=function(){n(p,this.value,_,languageSwitch.getActiveLanguage())});var T,C,w,x,b;i(r),onTabSwitch=function(){u.value=g[this.lang],d.value=c[this.lang],m&&(m.value=h[this.lang]),q&&(q.value=_[this.lang]),i(this.lang),window.tinyMCE&&tinyMCE.activeEditor&&tinyMCE.activeEditor.setContent(d.value)};var N={};return window.addEventListener("load",function(){window.tinyMCE&&(tinyMCE.activeEditor&&l(tinyMCE.activeEditor),tinyMCEPreInit.mceInit.content.init_instance_callback=function(a){l(a)})}),!0}var r=qtranxj_get_cookie("qtrans_edit_language");r||(r=qTranslateConfig.default_language),setLangCookie=function(){document.cookie="qtrans_edit_language="+this.lang};var l=location.pathname.match(/(\/wp-admin\/([^\/]*))$/);switch(l&&l[1]){case"/wp-admin/post.php":case"/wp-admin/post-new.php":if(!i())return;break;case"/wp-admin/edit-tags.php":if(!t())return;break;default:return}var g=qtranxj_ce("ul",{className:"qtranxs-lang-switch-wrap"}),s=document.getElementsByClassName("wrap")[0],o=s.getElementsByTagName("form")[0];o.parentNode.insertBefore(g,o),languageSwitch=new LanguageSwitch(g,r),languageSwitch.onSwitch(onTabSwitch),languageSwitch.onSwitch(setLangCookie)};new qTranslateX;